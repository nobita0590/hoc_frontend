<div class="animated fadeIn">
  <div class="row">
    <div class="col-lg-12">
      <form [formGroup]="mainForm" novalidate (submit)="onSubmit()">
        <div class="card">
          <div class="card-header">
            <i class="icon-user-follow"></i>
          </div>
          <div class="card-block">
            <div class="card-container">
              <strong>{{title}}</strong>
              <hr>
              <div class="form-group row">
                <label class="col-md-3 form-control-label">Tiêu đề</label>
                <div class="col-md-9">
                  <input formControlName="Title"
                         type="text" name="Title" class="form-control" placeholder="Tiêu đề..">
                  <show-errors [control]="mainForm.controls.Title" [fname]="'Tiêu đề'" ></show-errors>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-md-3 form-control-label">Đường dẫn</label>
                <div class="col-md-9">
                  <input formControlName="PrettyUrl"
                         type="text" name="PrettyUrl" class="form-control" placeholder="Đường dẫn..">
                  <show-errors [control]="mainForm.controls.PrettyUrl" [fname]="'Đường dẫn'" ></show-errors>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-md-3 form-control-label">Mô tả</label>
                <div class="col-md-9">
                  <textarea formControlName="Description"
                            type="text" name="Description" class="form-control" placeholder="Mô tả.."></textarea>
                  <show-errors [control]="mainForm.controls.Description" [fname]="'Mô tả'" ></show-errors>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-md-3 form-control-label">Hình đại diện</label>
                <div class="col-md-9">
                  <image-upload [url]="uploadUrl" [max]="1" [extensions]="['jpeg','jpg','png']"
                                [uploadedFiles]="oldImgs"
                                (removed)="onRemovedImage($event)"
                                (uploadFinished)="onUploadFinished($event)"
                                (uploadStateChanged)="onUploadStateChanged($event)"></image-upload>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-md-3 form-control-label">Danh mục</label>
                <div class="col-md-9">
                  <select formControlName="CategoryId"
                          type="text" name="CategoryId" class="form-control" placeholder="Danh mục..">
                    <option value="">Lựa chọn</option>
                    <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
                  </select>
                  <show-errors [control]="mainForm.controls.CategoryId" [fname]="'Danh mục'" ></show-errors>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-md-3 form-control-label">Nội dung</label>
                <div class="col-md-12">
                  <ckeditor
                    formControlName="Content"
                    [readonly]="false"
                    debounce="500">
                  </ckeditor>
                  <show-errors [control]="mainForm.controls.Content" [fname]="'Nội dung'" ></show-errors>
                </div>
              </div>
            </div>
          </div>
          <div class="card-footer">
            <div class="card-container">
              <button type="submit" class="btn btn-sm btn-primary"> Đăng tin</button>
              <button type="reset" class="btn btn-sm btn-danger"> Làm mới</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<block-ui [template]="blockTemplate"></block-ui>
<!--[disabled]="mainForm.invalid"-->
